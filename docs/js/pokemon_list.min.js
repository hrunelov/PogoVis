/*! PogoVis v0.0.1 | (c) 2020 Hannes Runelöv | MIT License |  */
function showPokemonList(){generatePokemonList(""),d3.select("#pokemon-list-wrapper").classed("shown",!0).classed("hidden",!1),d3.select("#pokemon-list-filter").node().focus()}function hidePokemonList(){d3.select("#pokemon-list-wrapper").classed("shown",!1).classed("hidden",!0),d3.select("#pokemon-list-filter").node().value="",generatePokemonList("")}function generatePokemonList(e){let o=""!==(e=e.trim())?pokedex.pokemon.filter(o=>o.name.toLowerCase().startsWith(e.toLowerCase())):[];o.sort((e,o)=>d3.ascending(e.name,o.name)),0==o.length?(d3.select("#pokemon-list").listData({tag:"li"}),d3.select("#pokemon-list-message").html(""===e?"Type to search for a Pokémon":'No Pokémon found beginning with "<b>'+e+'</b>"'),d3.select("#pokemon-list-message-wrapper").interrupt().transition().duration(TRANSITION_DURATION_FAST).style("height","60px")):(d3.select("#pokemon-list-message-wrapper").interrupt().transition().duration(TRANSITION_DURATION_FAST).style("height","0px"),d3.select("#pokemon-list").listData({data:o,key:e=>e.key,tag:"li",onenter:function(e){let o=e.classed("pokemon-list-row-wrapper",!0).append("div").classed("pokemon-list-row",!0).attr("id",e=>"row-"+e.key).on("mouseover",(function(e){d3.select(this).select(".pokemon-list-type1-color").style("background",e=>e.forms[0].types[0].color),d3.select(this).select(".pokemon-list-type2-color").style("background",e=>e.forms[0].types[e.forms[0].types.length>1?1:0].color),d3.select(this).select(".pokemon-list-image-background").style("background",e=>mixColors("#000",e.forms[0].types[0].color,.35))})).on("mouseout",(function(e){d3.select(this).select(".pokemon-list-type1-color").style("background",e=>mixColors("#000",e.forms[0].types[0].color,.75)),d3.select(this).select(".pokemon-list-type2-color").style("background",e=>mixColors("#000",e.forms[0].types[e.forms[0].types.length>1?1:0].color,.75)),d3.select(this).select(".pokemon-list-image-background").style("background",e=>mixColors("#000",e.forms[0].types[0].color,.2))})).on("mousedown",(function(e){hidePokemonList(),setSelectedPokemon(e)}));o.append("div").classed("split-top",!0).classed("pokemon-list-type1-color",!0).style("background",e=>mixColors("#000",e.forms[0].types[0].color,.75)),o.append("div").classed("split-bottom",!0).classed("pokemon-list-type2-color",!0).style("background",e=>mixColors("#000",e.forms[0].types[e.forms[0].types.length>1?1:0].color,.75)),o.append("div").classed("pokemon-list-image-background",!0).style("background",e=>mixColors("#000",e.forms[0].types[0].color,.2)).append("img").classed("pokemon-list-image",!0).attr("src",e=>POKEMON_IMG_PATH+e.forms[0].key+IMG_EXTENSION),o.append("div").classed("pokemon-list-name",!0).text(e=>e.name)}}))}d3.select("#pokemon-list-filter").on("focus",(function(){showPokemonList(),d3.select("#pokemon-list-filter-icon").style("display","none")})).on("input",(function(){generatePokemonList(d3.select(this).node().value)})).on("blur",(function(){setTimeout((function(){hidePokemonList(),d3.select("#pokemon-list-filter-icon").style("display","block")}),1)}));