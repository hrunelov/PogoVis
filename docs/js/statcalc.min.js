/*! PogoVis v0.0.1 | (c) 2020 Hannes RunelÃ¶v | MIT License |  */
function calculateStats(t,s,a,e,r){let n=pokedex.cpMultipliers[2*(r-1)],c={};return c.level=r,c.iv={attack:s,defense:a,hp:e},c.stats={attack:(t.baseStats.attack+s)*n,defense:(t.baseStats.defense+a)*n,hp:Math.floor((t.baseStats.stamina+e)*n)},c.stats.product=Math.round(c.stats.attack*c.stats.defense*c.stats.hp),c.cp=Math.floor((t.baseStats.attack+s)*Math.sqrt(t.baseStats.defense+a)*Math.sqrt(t.baseStats.stamina+e)*Math.pow(n,2)*.1),c.cp<10&&(c.cp=10),c}function calculateOptimalStats(t,s,a,e,r,n){if(void 0===n&&(n=20),0==r)return calculateStats(t,s,a,e,40);r+=.001;let c=calculateStats(t,s,a,e,n);if(c.cp==r)return c;if(c.cp<r){let n;for(;c.cp<=r&&c.level<=40;c=calculateStats(t,s,a,e,c.level+.5))n=c;return n}for(;c.cp>=r&&c.level>=0;c=calculateStats(t,s,a,e,c.level-.5));return c}function listOptimalStatsForCPCap(t,s){let a=[],e=20;for(let r=15;r>=(t.pokemon.tradeable?0:10);--r)for(let n=15;n>=(t.pokemon.tradeable?0:10);--n)for(let c=15;c>=(t.pokemon.tradeable?0:10);--c){let u=calculateOptimalStats(t,r,n,c,s,e);a.push(u),e=u.level}return{minStats:{attack:d3.min(a.map(t=>t.stats.attack)),defense:d3.min(a.map(t=>t.stats.defense)),hp:d3.min(a.map(t=>t.stats.hp)),product:d3.min(a.map(t=>t.stats.product))},maxStats:{attack:d3.max(a.map(t=>t.stats.attack)),defense:d3.max(a.map(t=>t.stats.defense)),hp:d3.max(a.map(t=>t.stats.hp)),product:d3.max(a.map(t=>t.stats.product))},list:a}}function sortByAttack(t){return t.sort((function(t,s){let a=s.stats.attack-t.stats.attack;if(0!=a)return a;let e=s.stats.product-t.stats.product;if(0!=e)return e;let r=s.cp-t.cp;if(0!=r)return r;let n=s.stats.defense-t.stats.defense;return 0!=n?n:s.stats.hp-t.stats.hp})),t}function sortByDefense(t){return t.sort((function(t,s){let a=s.stats.defense-t.stats.defense;if(0!=a)return a;let e=s.stats.product-t.stats.product;if(0!=e)return e;let r=s.cp-t.cp;if(0!=r)return r;let n=s.stats.attack-t.stats.attack;return 0!=n?n:s.stats.hp-t.stats.hp})),t}function sortByHP(t){return t.sort((function(t,s){let a=s.stats.hp-t.stats.hp;if(0!=a)return a;let e=s.stats.product-t.stats.product;if(0!=e)return e;let r=s.cp-t.cp;if(0!=r)return r;let n=s.stats.attack-t.stats.attack;return 0!=n?n:s.stats.defense-t.stats.defense})),t}function sortByStatProduct(t){return t.sort((function(t,s){let a=s.stats.product-t.stats.product;if(0!=a)return a;let e=s.cp-t.cp;if(0!=e)return e;let r=s.stats.attack-t.stats.attack;if(0!=r)return r;let n=s.stats.defense-t.stats.defense;return 0!=n?n:s.stats.hp-t.stats.hp})),t}function sortByCP(t){return t.sort((function(t,s){let a=s.cp-t.cp;if(0!=a)return a;let e=s.stats.product-t.stats.product;if(0!=e)return e;let r=s.stats.attack-t.stats.attack;if(0!=r)return r;let n=s.stats.defense-t.stats.defense;return 0!=n?n:s.stats.hp-t.stats.hp})),t}