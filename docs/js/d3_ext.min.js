/*! PogoVis v0.0.1 | (c) 2020 Hannes RunelÃ¶v | MIT License |  */
var heights={};function listData({container:e=d3.select("body"),tag:t="div",classed:a=null,data:s=[],key:o=(e=>e),onexit:n=(()=>{}),onupdate:i=(()=>{}),onenter:l=(()=>{}),horizontal:r=!1,fade:d=!0,waitForExit:y=!1,duration:c=TRANSITION_DURATION_FAST,delay:p=0,lag:f=0}){let u=a?"."+a:t,I=e.selectAll(u+":not(.exiting)").data(s,o),m=I.exit().classed("exiting",!0);!(function(e){let t=[];for(let a of e)for(let e of a.nodes())t.push(e);let a=t.reduce((function(e,t){return e[o(d3.select(t).data()[0])]=[r?t.offsetLeft:t.offsetTop,null],e}),{});for(let t of e)t.order();for(let e of t)a[o(d3.select(e).data()[0])][1]=r?e.offsetLeft:e.offsetTop;for(let e of t){let t=a[o(d3.select(e).data()[0])],s=t[0]-t[1];0!=s&&d3.select(e).interrupt("reorder").style("transform","translate"+(r?"X":"Y")+"("+s+"px)").transition("reorder").duration(c).style("transform","translate"+(r?"X":"Y")+"(0px)")}})([I,m]);let T=I.enter().append(t).classed(a,a),h=(e,t)=>p+f*t,N=(e,t)=>p+f*t+(y&&!m.empty()?c+f*(m.nodes().length-1):0),O=r?"width":"height";if(m.empty()||(n.bind(m.node())(m,h),m.interrupt("tween").transition("tween").duration(c).delay(h).style(O,"0px").style("opacity",d?0:1).remove()),I.empty()||i.bind(I.node())(I,(e,t)=>p+f*t+(!y||m.empty()||T.empty()?0:c+f*(m.nodes().length-1))),!T.empty()){l.bind(T.node())(T,N);let e=(r?T.node().offsetWidth:T.node().offsetHeight)+"px";T.style(O,"0px").style("opacity",d?0:1).transition("tween").duration(c).delay(N).style(O,e).style("opacity",1)}}function fadeIn(e,t){t=t||0,e.style("opacity",0).transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).style("opacity",1)}function fadeInIcon(e,t){t=t||0,e.style("transform","scale(0,0)").transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).ease(d3.easeBackOut).style("transform","scale(1,1)")}function fadeOutIcon(e,t){t=t||0,e.interrupt().transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).ease(d3.easeBackIn).style("transform","scale(0,0)")}function fadeInText(e,t){t=t||0,e.style("opacity",0).style("transform","scaleY(0)").transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).style("opacity",1).style("transform","scaleY(1)")}function fadeOutText(e,t){t=t||0,e.interrupt().transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).style("opacity",0).style("transform","scaleY(0)")}function animateHeight(e,t,a){let s=d3.select(e);if(heights[e]){s.style("height","auto");const o=heights[e],n=s.node().offsetHeight;s.style("height",o+"px"),heights[e]=n,a&&n<o?s.interrupt().style("height",n+"px"):s.transition().duration(t||TRANSITION_DURATION_MEDIUM).style("height",n+"px")}else heights[e]=s.node().offsetHeight}d3.selection.prototype.delay=function(e){return this.transition().delay(e)},d3.selection.prototype.zoomIn=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}){let o=this.style("transform","scale(0,0)");return s&&(o=o.style("opacity",0)),o=o.transition().duration(e).delay(t).ease(a).style("transform","scale(1,1)"),s?o.style("opacity",1):o},d3.selection.prototype.zoomInY=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}){let o=this.style("transform","scaleY(0)");return s&&(o=o.style("opacity",0)),o=o.transition().duration(e).delay(t).ease(a).style("transform","scaleY(1)"),s?o.style("opacity",1):o},d3.selection.prototype.zoomOut=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}){let o=this.transition().duration(e).delay(t).ease(a).style("transform","scale(0,0)");return s?o.style("opacity",0):o},d3.selection.prototype.zoomOutY=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}){let o=this.transition().duration(e).delay(t).ease(a).style("transform","scaleY(0)");return s?o.style("opacity",0):o},d3.selection.prototype.appendTypeIcon=function(e){return this.append("img").classed("type-icon",!0).attr("src",t=>"img/types/"+(e?e(t).key:t.key)+".svg")},d3.selection.prototype.appendPokemonImage=function({form:e=selectedForm,width:t=75,selected:a=!1,fadeDelay:s=0,fadeFrame:o=!0,fadeImage:n=!0,onclick:i=function(){}}={}){let l=this.append("div").classed("pokemon-image-wrapper",!0),r=l.append("div").classed("pokemon-image-frame",!0).style("height",t+"px").classed("selected",a),d=(r.style("border-color"),mixColors("#000",e.types[0].color,.2));r.style("width",t+"px").style("height",t+"px").style("transform",o&&s?"scaleY(0)":"").style("background",d);let y=r.append("img").classed("pokemon-image",!0).style("opacity",n&&s?0:1).attr("src",POKEMON_IMG_PATH+e.image+IMG_EXTENSION);n&&s&&y.transition().duration(TRANSITION_DURATION_MEDIUM).delay(s).style("opacity",1);let c=l.append("div").classed("pokemon-image-name",!0).classed("selected",a).text(e.pokemon.name).style("transform",o?"scaleY(0)":"");return a||l.append("button").attr("type","button").classed("pokemon-image-hot-area",!0).style("width",t+4+"px").style("height",t+32+"px").on("mouseover",(function(){r.classed("selected",!0),c.classed("selected",!0)})).on("mouseout",(function(){r.classed("selected",!1),c.classed("selected",!1)})).on("click",i),o&&s&&(r.transition().duration(TRANSITION_DURATION_MEDIUM).delay(s).ease(d3.easeBackOut).style("transform","scaleY(1)"),c.transition().duration(TRANSITION_DURATION_MEDIUM).delay(s).style("transform","scaleY(1)")),l};