/*! PogoVis v0.0.1 | (c) 2020 Hannes RunelÃ¶v | MIT License |  */
var heights={};function listData({container:e=d3.select("body"),tag:t="div",classed:a=null,data:s=[],key:n=(e=>e),horizontal:o=!1,hideContent:l=!0,fade:i=!0,waitForExit:r=!1,duration:d=TRANSITION_DURATION_MEDIUM,delay:c=0,onexit:y=(()=>{}),onupdate:p=(()=>{}),onenter:u=(()=>{})}={}){let f,I,h,m=a?"."+a:t;I=e.selectAll(m+":not(.exiting)").data(s,n),f=I.exit().classed("exiting",!0),(function(e){let t=[];for(let a of e)for(let e of a.nodes())t.push(e);let a=t.reduce((function(e,t){return e[n(d3.select(t).data()[0])]=[o?t.offsetLeft:t.offsetTop,null],e}),{});for(let t of e)t.order();for(let e of t)a[n(d3.select(e).data()[0])][1]=o?e.offsetLeft:e.offsetTop;for(let e of t){let t=a[n(d3.select(e).data()[0])],s=t[0]-t[1];0!=s&&d3.select(e).interrupt("reorder").style("transform","translate"+(o?"X":"Y")+"("+s+"px)").transition("reorder").duration(d).style("transform","translate"+(o?"X":"Y")+"(0px)")}})([I,f]),h=I.enter().append(t).classed("list-item-wrapper",!0).classed("hide-content",l).classed(a,a);let T=e=>c,N=e=>c+(r&&!f.empty()?d:0),g=o?"width":"height";if(f.empty()||(y.bind(f.node())(f,T),f.interrupt("tween").transition("tween").duration(d).delay(T).style(g,"0px").style("opacity",i?0:1).remove()),I.empty()||p.bind(I.node())(I,e=>c+(!r||f.empty()||h.empty()?0:d)),!h.empty()){u.bind(h.node())(h,N);let e=(o?h.node().offsetWidth:h.node().offsetHeight)+"px";h.style(g,"0px").style("opacity",i?0:1).transition("tween").duration(d).delay(N).style(g,e).style("opacity",1)}}function fadeIn(e,t){t=t||0,e.style("opacity",0).transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).style("opacity",1)}function fadeInIcon(e,t){t=t||0,e.style("transform","scale(0,0)").transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).ease(d3.easeBackOut).style("transform","scale(1,1)")}function fadeOutIcon(e,t){t=t||0,e.interrupt().transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).ease(d3.easeBackIn).style("transform","scale(0,0)")}function fadeInText(e,t){t=t||0,e.style("opacity",0).style("transform","scaleY(0)").transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).style("opacity",1).style("transform","scaleY(1)")}function fadeOutText(e,t){t=t||0,e.interrupt().transition().duration(TRANSITION_DURATION_MEDIUM).delay(t).style("opacity",0).style("transform","scaleY(0)")}function animateHeight(e,t,a){let s=d3.select(e);if(heights[e]){s.style("height","auto");const n=heights[e],o=s.node().offsetHeight;s.style("height",n+"px"),heights[e]=o,a&&o<n?s.interrupt().style("height",o+"px"):s.transition().duration(t||TRANSITION_DURATION_MEDIUM).style("height",o+"px")}else heights[e]=s.node().offsetHeight}d3.selection.prototype.delay=function(e){return this.transition().delay(e)},d3.selection.prototype.zoomIn=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}={}){let n=this.style("transform","scale(0,0)");return s&&(n=n.style("opacity",0)),n=n.transition().duration(e).delay(t).ease(a).style("transform","scale(1,1)"),s?n.style("opacity",1):n},d3.selection.prototype.zoomInY=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}={}){let n=this.style("transform","scaleY(0)");return s&&(n=n.style("opacity",0)),n=n.transition().duration(e).delay(t).ease(a).style("transform","scaleY(1)"),s?n.style("opacity",1):n},d3.selection.prototype.zoomOut=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}={}){let n=this.transition().duration(e).delay(t).ease(a).style("transform","scale(0,0)");return s?n.style("opacity",0):n},d3.selection.prototype.zoomOutY=function({duration:e=TRANSITION_DURATION_MEDIUM,delay:t=0,ease:a=d3.easeQuad,fade:s=!1}={}){let n=this.transition().duration(e).delay(t).ease(a).style("transform","scaleY(0)");return s?n.style("opacity",0):n},d3.selection.prototype.appendBar=function({vertical:e=!1,width:t=null,height:a=null,roundStart:s=!1,roundEnd:n=!1,transparent:o=!1,segments:l=1,separatorColor:i=null}={}){e&&!t&&(t=24),e||a||(a=24);let r=this.append("div").classed("bar-"+(e?"vertical":"horizontal"),!0).classed("round-start",s).classed("round-end",n);t&&r.style("width",t+"px"),a&&r.style("height",a+"px"),!o&&l>0&&r.append("div").classed("bar-background",!0);let d=r.append("div").classed("bar-content-wrapper",!0);for(let e=0;e<l;++e){let e=d.append("div").classed("bar-segment",!0);i&&e.style("border-color",i)}return r},d3.selection.prototype.setBarValue=function({value:e=.5,startValue:t=0,immediate:a=!1,duration:s=TRANSITION_DURATION_MEDIUM,delay:n=0}={}){e=functionize(e),t=functionize(t);let o="",l="";d3.select(this.node().parentNode).classed("bar-horizontal")&&(o="width",l=this.classed("reverse")?"right":"left"),d3.select(this.node().parentNode).classed("bar-vertical")&&(o="height",l=this.classed("reverse")?"bottom":"top"),a?(this.style(l,e=>100*t(e)+"%"),this.style(o,a=>100*(e(a)-t(a))+"%")):this.transition().duration(s).delay(n).style(l,e=>100*t(e)+"%").style(o,a=>100*(e(a)-t(a))+"%")},d3.selection.prototype.appendBarValue=function({roundStart:e=!1,roundEnd:t=!1,reverse:a=!1,color:s=null,initialValue:n=.5,initialStartValue:o=0,fadeFromZero:l=!1,duration:i=TRANSITION_DURATION_MEDIUM,delay:r=0}={}){let d=this.append("div").classed("bar-value",!0).classed("round-start",e).classed("round-end",t).classed("reverse",a);return s&&d.style("background",s),d.setBarValue({value:l?0:n,startValue:l?0:o,immediate:!0}),l&&d.setBarValue({value:n,startValue:o,immediate:!1,duration:i,delay:r}),d},d3.selection.prototype.appendTypeIcon=function(e){return this.append("img").classed("type-icon",!0).attr("src",t=>"img/types/"+(e?e(t).key:t.key)+".svg")},d3.selection.prototype.appendPokemonImage=function({form:e=selectedForm,width:t=75,selected:a=!1,fadeDelay:s=0,fadeFrame:n=!0,fadeImage:o=!0,onclick:l=function(){}}={}){let i=this.append("div").classed("pokemon-image-wrapper",!0),r=i.append("div").classed("pokemon-image-frame",!0).style("height",t+"px").classed("selected",a),d=(r.style("border-color"),mixColors("#000",e.types[0].color,.2));r.style("width",t+"px").style("height",t+"px").style("transform",n&&s?"scaleY(0)":"").style("background",d);let c=r.append("img").classed("pokemon-image",!0).style("opacity",o&&s?0:1).attr("src",POKEMON_IMG_PATH+e.image+IMG_EXTENSION);o&&s&&c.transition().duration(TRANSITION_DURATION_MEDIUM).delay(s).style("opacity",1);let y=i.append("div").classed("pokemon-image-name",!0).classed("selected",a).text(e.pokemon.name).style("transform",n?"scaleY(0)":"");return a||i.append("button").attr("type","button").classed("pokemon-image-hot-area",!0).style("width",t+4+"px").style("height",t+32+"px").on("mouseover",(function(){r.classed("selected",!0),y.classed("selected",!0)})).on("mouseout",(function(){r.classed("selected",!1),y.classed("selected",!1)})).on("click",l),n&&s&&(r.transition().duration(TRANSITION_DURATION_MEDIUM).delay(s).ease(d3.easeBackOut).style("transform","scaleY(1)"),y.transition().duration(TRANSITION_DURATION_MEDIUM).delay(s).style("transform","scaleY(1)")),i};